(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{205:function(e,t,n){},207:function(e,t,n){},209:function(e,t,n){},211:function(e,t,n){},213:function(e,t,n){},215:function(e,t,n){},217:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"loginSuccess",function(){return Y}),n.d(r,"login",function(){return z});var a={};n.r(a),n.d(a,"view",function(){return re}),n.d(a,"actions",function(){return r}),n.d(a,"reducer",function(){return ie});var i={};n.r(i),n.d(i,"changeToLogin",function(){return le});var c={};n.r(c),n.d(c,"view",function(){return ue}),n.d(c,"actions",function(){return i}),n.d(c,"reducer",function(){return se});var o={};n.r(o),n.d(o,"register",function(){return fe});var u={};n.r(u),n.d(u,"view",function(){return he}),n.d(u,"actions",function(){return o}),n.d(u,"reducer",function(){return pe});var l={};n.r(l),n.d(l,"loginSuccess",function(){return ge}),n.d(l,"login",function(){return ve});var s={};n.r(s),n.d(s,"view",function(){return be}),n.d(s,"actions",function(){return l}),n.d(s,"reducer",function(){return Oe});var d={};n.r(d),n.d(d,"loginSuccess",function(){return ye}),n.d(d,"login",function(){return Ce});var f={};n.r(f),n.d(f,"view",function(){return je}),n.d(f,"actions",function(){return d}),n.d(f,"reducer",function(){return ke});var m=n(0),h=n.n(m),p=n(87),g=n.n(p),v=n(10),E=n(22),b=n(90),O=n(3),y=n(4),C=n(6),S=n(5),j=n(7),k=n(221),N=n(220),w=n(19),M=n.n(w),I=n(91),L=n.n(I),D=function(e){return JSON.parse(JSON.stringify(e))},A=function(){return{id:L.a.generate(),name:"\u65b0\u5efa\u83dc\u5355",pub:!1,open:!0,edit:!0,child:[]}},R=function e(t,n){for(var r in n){if(n[r].id===t)return void(n[r].edit=!0);n[r].child&&n[r].child.length>0&&e(t,n[r].child)}},x=function e(t,n,r){for(var a in r){if(r[a].id===t)return r[a].name=n,void(r[a].edit=!1);r[a].child&&r[a].child.length>0&&e(t,n,r[a].child)}},T=function(e,t){return F(e,0,t)},P=function(e,t){return F(e,1,t)},F=function e(t,n,r){for(var a in r){if(r[a].id===t)return void r.splice(Number(a)+Number(n),0,A());r[a].child&&r[a].child.length>0&&e(t,n,r[a].child)}},U=function e(t,n){for(var r in n){if(n[r].id===t){var a=n[r].child||[];return a.push(A()),void(n[r].child=a)}n[r].child&&n[r].child.length>0&&e(t,n[r].child)}},G=function e(t,n,r){for(var a in r){if(r[a].id===t)return void(r[a].pub=n);r[a].child&&r[a].child.length>0&&e(t,n,r[a].child)}},H=function e(t,n){for(var r in n){if(n[r].id===t)return void(n[r].child&&n[r].child.length>0?alert("\u8bf7\u5148\u5220\u9664\u5b50\u83dc\u5355!"):n.splice(r,1));n[r].child&&n[r].child.length>0&&e(t,n[r].child)}},_=function(e,t){return J(e,-1,t)},B=function(e,t){return J(e,1,t)},J=function e(t,n,r){for(var a in r){if(r[a].id===t){var i=r.splice(a,1);return void r.splice(Number(a)+Number(n),0,i[0])}r[a].child&&r[a].child.length>0&&e(t,n,r[a].child)}},q=function e(t,n){for(var r in n){if(n[r].id===t)return void(n[r].child&&n[r].child.length>0&&(n[r].open=!n[r].open));n[r].child&&n[r].child.length>0&&e(t,n[r].child)}},W=function(e){function t(){var e,n;Object(O.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(C.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(a)))).state={value:""},n.handelChange=function(e){n.setState({value:e.target.value})},n.submit=function(){var e=n.props.submit;e&&e(n.state.value)},n}return Object(j.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.value;this.setState({value:e})}},{key:"render",value:function(){return h.a.createElement("div",{className:"menu-editor"},h.a.createElement("input",{type:"text",onBlur:this.submit,onChange:this.handelChange,value:this.state.value}))}}]),t}(m.Component),Y=function(){return{type:"HOME/SUCCESS"}},z=function(e){return function(t,n){return fetch("/api/authenticate",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},mode:"cors",body:JSON.stringify(e)}).then(function(e){if(200!==e.status)throw new Error("Fail to get response with status "+e.status);e.json().then(function(e){}).catch(function(e){})}).catch(function(e){})}},K=function(e){function t(){var e,n;Object(O.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(C.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(a)))).state={menu:[],actionMenu:"",curr:246},n.showMenu=function(e){n.setState({actionMenu:e})},n.hideMenu=function(){n.setState({actionMenu:""})},n.toggle=function(e){var t=n.props.history,r=D(n.state.menu);q(e.id,r),M.a.setItem("menu",{menu:n.state.menu,curr:e.id,actionMenu:n.state.actionMenu}).then(n.setState({curr:e.id},t.push("/note/"+e.id)))},n.saveLocal=function(e){M.a.setItem("menu",{menu:e,curr:n.state.curr,actionMenu:n.state.actionMenu}).then(n.setState({menu:e}))},n.addFirstMenu=function(){var e=[A()];n.saveLocal(e)},n.reName=function(e){var t=D(n.state.menu);R(e,t),n.saveLocal(t)},n.confirmName=function(e,t){var r=D(n.state.menu);x(e,t,r),n.saveLocal(r)},n.addSiblingBefore=function(e){var t=D(n.state.menu);T(e,t),n.saveLocal(t)},n.addSiblingAfter=function(e){var t=D(n.state.menu);P(e,t),n.saveLocal(t)},n.addChild=function(e){var t=D(n.state.menu);U(e,t),n.saveLocal(t)},n.changePub=function(e,t){var r=D(n.state.menu);G(e,t,r),n.saveLocal(r)},n.delMenu=function(e){var t=D(n.state.menu);H(e,t),M.a.setItem("menu",{menu:t,curr:"",actionMenu:""}).then(n.setState({menu:t,curr:"",actionMenu:""}))},n.moveUp=function(e){var t=D(n.state.menu);_(e,t),n.saveLocal(t)},n.moveDown=function(e){var t=D(n.state.menu);B(e,t),n.saveLocal(t)},n.getDD=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[],r=function(r){e[r].child&&e[r].child.length>0?t.push(h.a.createElement("dd",{className:"has-child",key:e[r].id},h.a.createElement("i",{style:{float:"left",lineHeight:"37px",marginRight:"2px"},className:"fa fa-folder-open"}),h.a.createElement("dl",null,h.a.createElement("dt",{className:n.state.curr===e[r].id?"active":"",onClick:function(){return n.toggle(e[r])}},e[r].edit?h.a.createElement(W,{value:e[r].name,submit:function(t){n.confirmName(e[r].id,t)}}):e[r].name,h.a.createElement("i",{className:e[r].pub?"fa fa-unlock":"fa fa-lock",onMouseOver:function(){return n.showMenu(e[r].id)},onMouseOut:function(){return n.hideMenu()}},h.a.createElement("ul",{className:n.state.actionMenu===e[r].id?"show":"hide"},h.a.createElement("li",{onClick:function(){return n.reName(e[r].id)}},"\u91cd\u547d\u540d"),e[r].pub?h.a.createElement("li",{onClick:function(){return n.changePub(e[r].id,!1)}},"\u79c1\u6709"):h.a.createElement("li",{onClick:function(){return n.changePub(e[r].id,!0)}},"\u516c\u5f00"),h.a.createElement("hr",null),h.a.createElement("li",{onClick:function(){return n.delMenu(e[r].id)}},"\u5220\u9664"),r>0?h.a.createElement("li",{onClick:function(){return n.moveUp(e[r].id)}},"\u4e0a\u79fb"):"",r<e.length-1?h.a.createElement("li",{onClick:function(){return n.moveDown(e[r].id)}},"\u4e0b\u79fb"):"",h.a.createElement("hr",null),h.a.createElement("li",{onClick:function(){return n.addChild(e[r].id)}},"\u6dfb\u52a0\u5b50\u83dc\u5355"),h.a.createElement("li",{onClick:function(){return n.addSiblingBefore(e[r].id)}},"\u4e0a\u65b9\u6dfb\u52a0\u540c\u7ea7\u83dc\u5355"),h.a.createElement("li",{onClick:function(){return n.addSiblingAfter(e[r].id)}},"\u4e0b\u65b9\u6dfb\u52a0\u540c\u7ea7\u83dc\u5355")))),e[r].open?n.getDD(e[r].child):""))):t.push(h.a.createElement("dd",{key:e[r].id,className:n.state.curr===e[r].id?"active":"",onClick:function(){return n.toggle(e[r])}},e[r].edit?h.a.createElement(W,{value:e[r].name,submit:function(t){n.confirmName(e[r].id,t)}}):e[r].name,h.a.createElement("i",{className:e[r].pub?"fa fa-unlock":"fa fa-lock",onMouseOver:function(){return n.showMenu(e[r].id)},onMouseOut:function(){return n.hideMenu()}},h.a.createElement("ul",{className:n.state.actionMenu===e[r].id?"show":"hide"},h.a.createElement("li",{onClick:function(){return n.reName(e[r].id)}},"\u91cd\u547d\u540d"),e[r].pub?h.a.createElement("li",{onClick:function(){return n.changePub(e[r].id,!1)}},"\u79c1\u6709"):h.a.createElement("li",{onClick:function(){return n.changePub(e[r].id,!0)}},"\u516c\u5f00"),h.a.createElement("hr",null),h.a.createElement("li",{onClick:function(){return n.delMenu(e[r].id)}},"\u5220\u9664"),r>0?h.a.createElement("li",{onClick:function(){return n.moveUp(e[r].id)}},"\u4e0a\u79fb"):"",r<e.length-1?h.a.createElement("li",{onClick:function(){return n.moveDown(e[r].id)}},"\u4e0b\u79fb"):"",h.a.createElement("hr",null),h.a.createElement("li",{onClick:function(){return n.addChild(e[r].id)}},"\u6dfb\u52a0\u5b50\u83dc\u5355"),h.a.createElement("li",{onClick:function(){return n.addSiblingBefore(e[r].id)}},"\u4e0a\u65b9\u6dfb\u52a0\u540c\u7ea7\u83dc\u5355"),h.a.createElement("li",{onClick:function(){return n.addSiblingAfter(e[r].id)}},"\u4e0b\u65b9\u6dfb\u52a0\u540c\u7ea7\u83dc\u5355")))))},a=0;a<e.length;a++)r(a);return t},n.getDL=function(e){for(var t=[],r=function(r){t.push(h.a.createElement("dl",{key:e[r].id},e[r].child&&e[r].child.length>0?h.a.createElement("i",{style:{float:"left",lineHeight:"37px",marginRight:"2px"},className:"fa fa-folder-open"}):"",h.a.createElement("dt",{className:n.state.curr===e[r].id?"active":"",onClick:function(){return n.toggle(e[r])}},e[r].edit?h.a.createElement(W,{value:e[r].name,submit:function(t){n.confirmName(e[r].id,t)}}):e[r].name,h.a.createElement("i",{className:e[r].pub?"fa fa-unlock":"fa fa-lock",onMouseOver:function(){return n.showMenu(e[r].id)},onMouseOut:function(){return n.hideMenu()}},h.a.createElement("ul",{className:n.state.actionMenu===e[r].id?"show":"hide"},h.a.createElement("li",{onClick:function(){return n.reName(e[r].id)}},"\u91cd\u547d\u540d"),e[r].pub?h.a.createElement("li",{onClick:function(){return n.changePub(e[r].id,!1)}},"\u79c1\u6709"):h.a.createElement("li",{onClick:function(){return n.changePub(e[r].id,!0)}},"\u516c\u5f00"),h.a.createElement("hr",null),h.a.createElement("li",{onClick:function(){return n.delMenu(e[r].id)}},"\u5220\u9664"),r>0?h.a.createElement("li",{onClick:function(){return n.moveUp(e[r].id)}},"\u4e0a\u79fb"):"",r<e.length-1?h.a.createElement("li",{onClick:function(){return n.moveDown(e[r].id)}},"\u4e0b\u79fb"):"",h.a.createElement("hr",null),h.a.createElement("li",{onClick:function(){return n.addChild(e[r].id)}},"\u6dfb\u52a0\u5b50\u83dc\u5355"),h.a.createElement("li",{onClick:function(){return n.addSiblingBefore(e[r].id)}},"\u4e0a\u65b9\u6dfb\u52a0\u540c\u7ea7\u83dc\u5355"),h.a.createElement("li",{onClick:function(){return n.addSiblingAfter(e[r].id)}},"\u4e0b\u65b9\u6dfb\u52a0\u540c\u7ea7\u83dc\u5355")))),e[r].open?n.getDD(e[r].child):""))},a=0;a<e.length;a++)r(a);return t},n}return Object(j.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=this;M.a.getItem("menu").then(function(t){var n=t||{};e.setState({menu:n.menu||[],curr:n.curr,actionMenu:n.actionMenu})})}},{key:"render",value:function(){return h.a.createElement("div",{className:"menu"},this.state.menu&&this.state.menu.length>0?this.getDD(this.state.menu):h.a.createElement("div",{className:"btn",onClick:this.addFirstMenu},"\u70b9\u51fb\u6dfb\u52a0\u60a8\u7684\u7b2c\u4e00\u4e2a\u83dc\u5355"))}}]),t}(m.Component),$=Object(v.b)(function(e){return{}},function(e){return{login:function(t){e(z(t))}}})(K),Q=n(92),V=n.n(Q),X=n(93),Z=n.n(X),ee=function(e){function t(){var e,n;Object(O.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(C.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(a)))).state={text:""},n.openEdit=function(){var e=n.props.match.params.id,t=new V.a;t.on("fileChange",function(e){n.setState({text:e.content.text,html:e.content.html})}),t.on("close",function(){M.a.setItem(e,{version:Z()(n.state.text),text:n.state.text,html:n.state.html})}),t.openFile({content:{text:n.state.text}})},n}return Object(j.a)(t,e),Object(y.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this,n=e.match.params.id;M.a.getItem(n).then(function(e){e=e||{},t.setState({text:e.text,html:e.html})})}},{key:"render",value:function(){var e=this;return h.a.createElement("div",{className:"md"},h.a.createElement("span",{className:"edit-note",onClick:function(){return e.openEdit()}},"\u7f16\u8f91\u8be5\u6587\u6863"),h.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.html}}))}}]),t}(m.Component),te=Object(v.b)(function(e){return{}},function(e){return{login:function(t){e(z(t))}}})(ee),ne=function(e){function t(){return Object(O.a)(this,t),Object(C.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props.match;return h.a.createElement("div",{className:"home"},h.a.createElement($,this.props),h.a.createElement("section",{className:"main"},h.a.createElement(k.a,null,h.a.createElement(N.a,{path:e.path+"note/:id",render:function(e){return h.a.createElement(te,e)}}))),h.a.createElement("div",{className:"popup"},"xxxxxx"))}}]),t}(m.Component),re=Object(v.b)(function(e){return{}},function(e){return{login:function(t){e(z(t))}}})(ne),ae=n(13),ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loginErr:!1,registryErr:!1,user:null};switch((arguments.length>1?arguments[1]:void 0).type){case"HOME/SUCCESS":return Object(ae.a)({},e,{loginErr:!1,registryErr:!1});default:return e}},ce=n(218),oe=function(e){function t(){var e,n;Object(O.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(C.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(a)))).getMenus=function(){var e=[],t=localStorage.getItem("token"),r=localStorage.getItem("user");return n.props.logined||t&&r?e.push(h.a.createElement("li",{key:1},h.a.createElement(ce.a,{to:"/user"},r))):(e.push(h.a.createElement("li",{key:1},h.a.createElement(ce.a,{to:"/login"},"\u767b\u5f55"))),e.push(h.a.createElement("li",{key:2},h.a.createElement(ce.a,{to:"/register"},"\u6ce8\u518c")))),e},n}return Object(j.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return h.a.createElement("div",{className:"header"},h.a.createElement("span",{className:"title"},h.a.createElement("i",{className:"fa fa-pencil-square-o","aria-hidden":"true"}),"LanBit"),h.a.createElement("ul",{className:"topmenu"},this.getMenus()))}}]),t}(m.Component),ue=Object(v.b)(function(e){return{logined:e.header.logined}},function(e){return{}})(oe),le=function(){return function(e,t){e({type:"HEADER/CHANGE_TO_LOGIN"})}},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{logined:!1};switch((arguments.length>1?arguments[1]:void 0).type){case"HEADER/CHANGE_TO_LOGIN":return Object(ae.a)({},e,{logined:!0});default:return e}},de=n(43),fe=function(e){return function(t,n){return fetch("http://localhost:8080/api/register",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},mode:"cors",body:JSON.stringify(e)}).then(function(e){if(200!==e.status&&201!==e.status)throw new Error("Fail to get response with status "+e.status);t({type:"REGISTER/SUCCESS"})}).catch(function(e){t({type:"REGISTER/UPDATE_ERRS",errs:["\u767b\u5f55\u540d\u6216\u90ae\u7bb1\u5df2\u88ab\u4f7f\u7528"]})})}},me=function(e){function t(){var e,n;Object(O.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(C.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(a)))).submit=function(){n.props.form.validateFields(function(e,t){var r=[];if(!e){if(t.login.length<6&&r.push("\u767b\u5f55\u540d\u957f\u5ea6\u81f3\u5c11\u516d\u4f4d"),t.email.indexOf("@")<2&&r.push("\u90ae\u7bb1\u4e0d\u5408\u6cd5"),t.password.length<6&&r.push("\u5bc6\u7801\u957f\u5ea6\u81f3\u5c11\u516d\u4f4d"),t.password.length!==t.password2.length&&r.push("\u4e24\u6b21\u8f93\u5165\u7684\u5bc6\u7801\u4e0d\u4e00\u81f4"),r.length>0)return void n.props.updateState(r);t.langKey="zh_cn",n.props.register(t)}})},n}return Object(j.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.form,t=e.getFieldProps,n=e.getFieldError,r=this.props.history,a=localStorage.getItem("token"),i=localStorage.getItem("user");return a&&i&&r.push("/"),h.a.createElement("div",{className:"register"},this.props.successed?"\u6ce8\u518c\u6210\u529f,\u8bf7\u6253\u5f00\u90ae\u7bb1\u8fdb\u884c\u9a8c\u8bc1.":h.a.createElement("div",null,h.a.createElement("ul",{className:"top-err"},this.props.errs.map(function(e){return h.a.createElement("li",null,e)})),"\u767b\u5f55\u540d",h.a.createElement("span",{className:"err"},n("login")?"\u5fc5\u987b\u5f55\u5165\u767b\u5f55\u540d":""),h.a.createElement("input",t("login",{onChange:function(){},rules:[{required:!0}]})),"\u90ae\u7bb1",h.a.createElement("span",{className:"err"},n("email")?"\u5fc5\u987b\u5f55\u5165\u90ae\u7bb1":""),h.a.createElement("input",t("email",{onChange:function(){},rules:[{required:!0}]})),"\u5bc6\u7801",h.a.createElement("span",{className:"err"},n("password")?"\u5fc5\u987b\u5f55\u5165\u5bc6\u7801":""),h.a.createElement("input",Object.assign({type:"password"},t("password",{onChange:function(){},rules:[{required:!0},{minLen:5}]}))),"\u91cd\u65b0\u8f93\u5165\u5bc6\u7801",h.a.createElement("span",{className:"err"},n("password2")?"\u5fc5\u987b\u5f55\u5165\u5bc6\u7801":""),h.a.createElement("input",Object.assign({type:"password"},t("password2",{onChange:function(){},rules:[{required:!0}]}))),h.a.createElement("button",{className:"btn btn-success",onClick:this.submit},"\u786e\u5b9a")))}}]),t}(m.Component),he=Object(de.a)()(Object(v.b)(function(e){return{errs:e.register.errs,successed:e.register.successed}},function(e){return{register:function(t){e(fe(t))},updateState:function(t){e({type:"REGISTER/UPDATE_ERRS",errs:t})}}})(me)),pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{errs:[],successed:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER/UPDATE_ERRS":return Object(ae.a)({},e,{errs:t.errs});case"REGISTER/SUCCESS":return Object(ae.a)({},e,{errs:[],successed:!0});default:return e}},ge=function(){return{type:"LOGIN/SUCCESS"}},ve=function(e){return function(t,n){return fetch("http://localhost:8080/api/authenticate",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},mode:"cors",body:JSON.stringify(e)}).then(function(n){if(200!==n.status)throw new Error("Fail to get response with status "+n.status);n.json().then(function(n){localStorage.setItem("token",n.id_token),localStorage.setItem("user",e.username),t({type:"LOGIN/SUCCESS"}),t(i.changeToLogin())}).catch(function(e){t({type:"LOGIN/FAILED"})})}).catch(function(e){t({type:"LOGIN/FAILED"})})}},Ee=function(e){function t(){var e,n;Object(O.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(C.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(a)))).submit=function(){n.props.form.validateFields(function(e,t){e||(t.rememberMe=!0,n.props.login(t))})},n}return Object(j.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){var t=e.successed,n=e.history;t&&n.push("/")}},{key:"render",value:function(){var e=this.props.history,t=this.props.form,n=t.getFieldProps,r=t.getFieldError,a=localStorage.getItem("token"),i=localStorage.getItem("user");return a&&i&&e.push("/"),h.a.createElement("div",{className:"login"},h.a.createElement("ul",{className:"top-err"},this.props.errs.map(function(e){return h.a.createElement("li",null,e)})),"\u767b\u5f55\u540d",h.a.createElement("span",{className:"err"},r("username")?"\u5fc5\u987b\u5f55\u5165\u767b\u5f55\u540d":""),h.a.createElement("input",n("username",{onChange:function(){},rules:[{required:!0}]})),"\u5bc6\u7801",h.a.createElement("span",{className:"err"},r("password")?"\u5fc5\u987b\u5f55\u5165\u5bc6\u7801":""),h.a.createElement("input",Object.assign({type:"password"},n("password",{onChange:function(){},rules:[{required:!0},{minLen:5}]}))),h.a.createElement("button",{className:"btn btn-success",onClick:this.submit},"\u5f55\u5165"))}}]),t}(m.Component),be=Object(de.a)()(Object(v.b)(function(e){return{errs:e.login.errs,successed:e.login.successed}},function(e){return{login:function(t){e(ve(t))}}})(Ee)),Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{errs:[],successed:!1};switch((arguments.length>1?arguments[1]:void 0).type){case"LOGIN/SUCCESS":return Object(ae.a)({},e,{successed:!0,errs:[]});case"LOGIN/FAILED":return Object(ae.a)({},e,{successed:!1,errs:["\u767b\u5f55\u540d\u6216\u5bc6\u7801\u9519\u8bef"]});default:return e}},ye=function(){return{type:"SYNDATA/SUCCESS"}},Ce=function(e){return function(t,n){return fetch("/api/authenticate",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},mode:"cors",body:JSON.stringify(e)}).then(function(e){if(200!==e.status)throw new Error("Fail to get response with status "+e.status);e.json().then(function(e){}).catch(function(e){})}).catch(function(e){})}},Se=function(e){function t(){return Object(O.a)(this,t),Object(C.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return h.a.createElement("div",{className:"syndata"})}}]),t}(m.Component),je=Object(v.b)(function(e){return{}},function(e){return{login:function(t){e(Ce(t))}}})(Se),ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loginErr:!1,registryErr:!1,user:null};switch((arguments.length>1?arguments[1]:void 0).type){case"SYNDATA/SUCCESS":return Object(ae.a)({},e,{loginErr:!1,registryErr:!1});default:return e}},Ne={Header:c,Note:a,Register:u,Login:s,SynData:f},we=Object(E.c)({register:Ne.Register.reducer,login:Ne.Login.reducer,header:Ne.Header.reducer}),Me=[b.a],Ie=Object(E.d)(E.a.apply(void 0,Me)),Le=Object(E.e)(we,{},Ie),De=(n(205),n(207),n(209),n(211),n(213),n(215),n(219)),Ae=function(e){function t(){return Object(O.a)(this,t),Object(C.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return h.a.createElement(De.a,null,h.a.createElement("div",{className:"app"},h.a.createElement(Ne.Header.view,null),h.a.createElement(k.a,null,h.a.createElement(N.a,{path:"/register",component:Ne.Register.view}),h.a.createElement(N.a,{path:"/login",component:Ne.Login.view}),h.a.createElement(N.a,{path:"/",component:Ne.Note.view}))))}}]),t}(m.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));g.a.render(h.a.createElement(v.a,{store:Le},h.a.createElement(Ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},99:function(e,t,n){e.exports=n(217)}},[[99,2,1]]]);
//# sourceMappingURL=main.97badc80.chunk.js.map